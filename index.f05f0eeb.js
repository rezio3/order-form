const e=e=>{const{printLocation:t,effect:r,price:i,blurPower:a}=d,n=document.querySelector(".summary-preview__location"),o=document.querySelector(".summary-preview__effect"),s=document.querySelector(".summary-preview__cost"),c=document.querySelector(".print-location-preview").cloneNode(!0),l="Rozmycie"===r?` ${a}`:"";n.innerHTML=t,o.innerHTML=r+l,s.innerHTML=`${i} PLN`;const u=document.querySelector(".print-summary-preview"),m=document.querySelector(".print-summary-preview .print-location-preview");null!==m&&u.removeChild(m),u.appendChild(c);const p=u.querySelectorAll("img"),y=void 0!==e?e:"";p.forEach((e=>{e.src=`https://picsum.photos/id/${d.graphics}/170/170${y}`}))},t=document.querySelector(".print-location-preview__print-img"),r=document.querySelector(".print-location-preview__shirt-front"),i=document.querySelector(".print-location-preview__shirt-back"),a={setLocationPreviewImg:()=>{const{printLocation:e}=d;if("Przód"===e)i.innerHTML="",r.appendChild(t);else if("Tył"===e)r.innerHTML="",i.appendChild(t);else if("Przód i tył"===e){const e=t.cloneNode(!0);r.appendChild(t),i.appendChild(e)}},setEffectPreviewImg:()=>{const t=document.querySelector("#effect-preview");let r,i;"Czarno-białe"===d.effect?(i="",r="?grayscale"):"Rozmycie"===d.effect?(i=`=${d.blurPower}`,r="?blur"):(i="",r=""),d.effectCode=`${r+i}`,t.src=`https://picsum.photos/id/${d.graphics}/170/170${r+i}`,e(d.effectCode)},setGraphicsPreview:()=>{document.querySelector(".choose-graphics-img").src=`https://picsum.photos/id/${d.graphics}/170/170`}},n=10,o=20,s=2,c=3,d={type:"T-shirt",printLocation:"Przód",effect:"Brak",price:10,graphics:110,blurPower:"",setPrintLocation:t=>{d.printLocation=t,d.setPrice(),e()},setGraphics:t=>{d.graphics+="right"===t.target.name?1:-1,a.setGraphicsPreview(),e()},setEffect:t=>{d.effect=t,d.setPrice(),e()},setBlurPower:e=>{"Rozmycie"===d.effect?d.blurPower=e:d.blurPower="",a.setEffectPreviewImg()},setPrice:()=>{d.price="Przód i tył"===d.printLocation?o:n,"Czarno-białe"===d.effect?d.price+=s:"Rozmycie"===d.effect&&(d.price+=c)}},l={isPrintLocationApproved:!1,isGraphicsApproved:!1,isEffectApproved:!1,setSummaryProductPage:()=>{const e=document.querySelector(".print-location-preview").cloneNode(!0);e.classList.add("shirt-preview-summary-product");const t=document.querySelector(".t-shirt-summary-view"),r=t.querySelector(".shirt-preview-summary-product");null!==r&&t.removeChild(r),t.appendChild(e);const i=t.querySelectorAll("img"),a=d.effectCode;i.forEach((e=>{e.src=`https://picsum.photos/id/${d.graphics}/50/50${a}`}));document.querySelector(".summary-setting-and-approval__print-location").innerHTML=d.printLocation;document.querySelector("#summary-product-graphics").src=`https://picsum.photos/id/${d.graphics}/170/170${d.effectCode}`;document.querySelector(".summary-setting-and-approval__effect").innerHTML=d.effect+" "+d.blurPower;const n=document.querySelector(".summary-setting-and-approval__print-location-price"),o=document.querySelector(".summary-setting-and-approval__effect-price"),s=document.querySelector(".summary-product-details__price"),c="Przód i tył"===d.printLocation?20:10;let l;n.innerHTML=`${c},00 PLN`,"Brak"===d.effect?l=0:"Czarno-białe"===d.effect?l=2:"Rozmycie"===d.effect&&(l=3),o.innerHTML=`${l},00 PLN`;const u=c+l;s.innerHTML=`${u},00 PLN`},validateProductSummaryCheckboxes:e=>{l.isPrintLocationApproved="summary-print-location"===e.target.id?e.target.checked:l.isPrintLocationApproved,l.isGraphicsApproved="summary-graphics"===e.target.id?e.target.checked:l.isGraphicsApproved,l.isEffectApproved="summary-effect"===e.target.id?e.target.checked:l.isEffectApproved}},u={regexOneLetter:/[a-zA-Z]/,regexOneNumber:/\d+/,regexOnlyNumbersAndMinus:/^[0-9\-]+$/,regexOneDot:/.*\..*/,regexOneAt:/@/},m=document.querySelector(".checkboxes-list__item--smaller"),p={method:"Odbiór osobisty",address:{street:"",building:"",flat:"",postalCode:"",city:""},isDeliveryAddressValid:!0,switchAddressFormIfDelivery:e=>{const t=document.querySelector(".delivery-form"),r=document.querySelector(".delivery-page__notification");"delivery"===e?(t.classList.add("delivery-form--visible"),m.classList.remove("checkboxes-list__item--hidden"),r.classList.remove("delivery-page__notification--hidden"),p.isDeliveryAddressValid=!1):"pickup"===e&&(t.classList.remove("delivery-form--visible"),m.classList.add("checkboxes-list__item--hidden"),r.classList.add("delivery-page__notification--hidden"),p.isDeliveryAddressValid=!0)},validateAddressForm:()=>{for(const e in p.address){const t=p.address[e];if(""===t&&"flat"!==e&&""===t)v.turnRed(document.querySelector(`#delivery-${e}`))}const{street:e,building:t,flat:r,postalCode:i,city:a}=p.address;for(const e in p.address){if(""===p.address[e]&&"flat"!==e)return void(p.isDeliveryAddressValid=!1);p.isDeliveryAddressValid=!0}const{regexOneLetter:n,regexOneNumber:o}=u;n.test(e)&&n.test(a)&&o.test(t)&&(o.test(r)||""===r)&&o.test(i)&&i.length>4?p.isDeliveryAddressValid=!0:p.isDeliveryAddressValid=!1},setTheSameAddress:()=>{const e={street:document.querySelector("#delivery-street"),building:document.querySelector("#delivery-building"),flat:document.querySelector("#delivery-flat"),postalCode:document.querySelector("#delivery-postalCode"),city:document.querySelector("#delivery-city")};e.street.value=`${v.data.street}`,e.building.value=`${v.data.building}`,e.flat.value=`${v.data.flat}`,e.postalCode.value=`${v.data.postalCode}`,e.city.value=`${v.data.city}`;for(const e in p.address)p.address[e]=v.data[e];p.validateAddressForm();for(const t in e)e[t].classList.remove("client-data-list__input--red"),e[t].classList.add("client-data-list__input--green")}},y=(e,t)=>{"delivery address"===t&&(p.address[e.target.name]=e.target.value);const{id:r,value:i}=e.target,{turnGreen:a,turnRed:n,removeColor:o}=v,{regexOneLetter:s,regexOneNumber:c}=u;"client-street"===r||"client-city"===r||"delivery-street"===r||"delivery-city"===r?s.test(i)?a(e.target):n(e.target):"client-building"===r||"delivery-building"===r?c.test(i)?a(e.target):n(e.target):"client-flat"===r||"delivery-flat"===r?c.test(i)?a(e.target):""===i?o(e.target):n(e.target):"client-postalCode"!==r&&"delivery-postalCode"!==r||(""!==i&&i.length>4&&c.test(i)?a(e.target):n(e.target))},v={data:{name:"",surname:"",street:"",building:"",flat:"",postalCode:"",city:"",phone:"",email:""},isFormValid:!1,handleFormInputs:e=>{v.data[e.target.name]=e.target.value;const{id:t,value:r}=e.target,{turnGreen:i,turnRed:a}=v,{regexOneLetter:n,regexOnlyNumbersAndMinus:o,regexOneDot:s,regexOneAt:c}=u;"client-name"===t||"client-surname"===t?n.test(r)?i(e.target):a(e.target):"client-phone"===t?o.test(r)&&r.length>8?i(e.target):a(e.target):"client-email"===t?c.test(r)&&s.test(r)?i(e.target):a(e.target):y(e,"client address")},turnGreen:e=>{e.classList.remove("client-data-list__input--red"),e.classList.add("client-data-list__input--green")},turnRed:e=>{e.classList.remove("client-data-list__input--green"),e.classList.add("client-data-list__input--red")},removeColor:e=>{e.classList.remove("client-data-list__input--green"),e.classList.remove("client-data-list__input--red")}},f={finalizationOfOrder:!1,isPrintLocationApproved:!0,isGraphicsApproved:!0,isEffectApproved:!0,isClientDataApproved:!1,isDeliveryApproved:!1,finalPrice:"",showFinalOrderSummary:()=>{const e=document.querySelector(".print-location-preview").cloneNode(!0);e.classList.add("shirt-preview-summary-product");const t=document.querySelector(".t-shirt-final-summary-view"),r=t.querySelector(".shirt-preview-summary-product");null!==r&&t.removeChild(r),t.appendChild(e);const i=t.querySelectorAll("img"),a=d.effectCode;i.forEach((e=>{e.src=`https://picsum.photos/id/${d.graphics}/50/50${a}`}));document.querySelector(".final-summary-setting-and-approval__print-location").innerHTML=`${d.printLocation}`;document.querySelector("#final-summary-product-graphics").src=`https://picsum.photos/id/${d.graphics}/170/170${d.effectCode}`;document.querySelector(".final-summary-setting-and-approval__effect").innerHTML=d.effect+" "+d.blurPower;const n=document.querySelector(".final-summary-setting-and-approval__print-location-price"),o=document.querySelector(".final-summary-setting-and-approval__effect-price"),s="Przód i tył"===d.printLocation?20:10;let c;n.innerHTML=`${s},00 PLN`,"Brak"===d.effect?c=0:"Czarno-białe"===d.effect?c=2:"Rozmycie"===d.effect&&(c=3),o.innerHTML=`${c},00 PLN`;document.querySelector(".final-summary-client-data-container__client-name").innerHTML=`${v.data.name} ${v.data.surname}`;const l=document.querySelector(".final-summary-client-data-container__client-address1"),u=""===v.data.flat?"":"/";l.innerHTML=`${v.data.street} ${v.data.building}${u}${v.data.flat}`;document.querySelector(".final-summary-client-data-container__client-addres2").innerHTML=`${v.data.postalCode} ${v.data.city}`;document.querySelector(".final-summary-client-data-container__client-contact1").innerHTML=`tel: ${v.data.phone}`;document.querySelector(".final-summary-client-data-container__client-contact2").innerHTML=`email: ${v.data.email}`;document.querySelector(".final-summary-delivery__method-span").innerHTML=`${p.method}`;const m=document.querySelector(".final-summary-setting-and-approval__delivery-price");let y="Wysyłka"===p.method?5:0;m.innerHTML=`${y},00 PLN`;const g=document.querySelector(".final-summary-delivery-address");if("Odbiór osobisty"===p.method)g.classList.add("final-summary-delivery-address--hidden");else{g.classList.remove("final-summary-delivery-address--hidden");const e=document.querySelector(".final-summary-delivery-address__address1"),t=document.querySelector(".final-summary-delivery-address__address2"),r=""===p.address.flat?"":"/";e.innerHTML=`${p.address.street} ${p.address.building}${r}${p.address.flat}`,t.innerHTML=`${p.address.postalCode} ${p.address.city}`}const h=s+c+y;document.querySelector(".final-order-price__price").innerHTML=`${h},00 PLN`,f.price=h,f.finalizationOfOrder=!0},validateFinalSummaryApprovals:e=>{f.isPrintLocationApproved="final-summary-print-location"===e.target.id?e.target.checked:f.isPrintLocationApproved,f.isGraphicsApproved="final-summary-graphics"===e.target.id?e.target.checked:f.isGraphicsApproved,f.isEffectApproved="final-summary-effect"===e.target.id?e.target.checked:f.isEffectApproved,f.isClientDataApproved="final-summary-client-data"===e.target.id?e.target.checked:f.isClientDataApproved,f.isDeliveryApproved="final-summary-delivery-method"===e.target.id?e.target.checked:f.isDeliveryApproved;const t=document.querySelector(".submit-order-btn");h.submitOrderButtonSwitch(t)}},g=document.querySelector("#next-btn"),h={setBlurPowerSetting:e=>{const t=document.querySelector(".select-blur-power"),r=document.querySelector(".select-blur-power__blur-power-number");"Rozmycie"===e?(t.classList.add("select-blur-power--active"),d.setBlurPower(r.innerHTML)):(d.blurPower="",t.classList.remove("select-blur-power--active"))},goToCheckoutButtonSwitch:()=>{const e=document.querySelector(".navigate-section__notification"),{isPrintLocationApproved:t,isGraphicsApproved:r,isEffectApproved:i}=l;t&&r&&i?(e.classList.add("navigate-section__notification--disabled"),g.disabled=!1):(e.classList.remove("navigate-section__notification--disabled"),g.disabled=!0)},showCheckoutButton:()=>{g.innerHTML="Do kasy <span class='material-symbols-outlined navigate-buttons__arrow'>chevron_right</span>"},showNextButton:()=>{g.innerHTML="Dalej <span class='material-symbols-outlined navigate-buttons__arrow'>chevron_right</span>"},submitOrderButtonSwitch:e=>{const{isPrintLocationApproved:t,isGraphicsApproved:r,isEffectApproved:i,isClientDataApproved:a,isDeliveryApproved:n}=f,o=document.querySelector(".final-red-notification");t&&r&&i&&a&&n?(e.disabled=!1,o.classList.add("final-red-notification--hidden")):(o.classList.remove("final-red-notification--hidden"),e.disabled=!0)},showGoToFinalCheckoutButton:()=>{document.querySelector("#next-btn").name="go-to-final-checkout"},hideNavigateButtonAtFinalOrderSummary:(e,t)=>{e.classList.add("summary-preview--disable"),g.classList.add("navigate-buttons__btn--disabled"),t.classList.add("navigate-buttons__btn--disabled")}},_=document.querySelectorAll(".form-page"),b=document.querySelector("#back-btn"),L=document.querySelector("#next-btn"),S={activePage:1,changePage:e=>{"next"===e.target.name?(b.classList.remove("navigate-buttons__btn--disabled"),S.activePage+=1,4===S.activePage&&l.setSummaryProductPage()):"back"===e.target.name&&S.activePage>2?S.activePage-=1:"back"===e.target.name&&2===S.activePage?(S.activePage-=1,b.classList.add("navigate-buttons__btn--disabled")):"go-to-final-checkout"===e.target.name&&(S.activePage=7,f.showFinalOrderSummary()),S.changePageDisplay(S.activePage),3===S.activePage&&a.setEffectPreviewImg()},changePageDisplay:e=>{const t=document.querySelector(".summary-preview"),r=document.querySelector(".navigate-section__notification");if(e<4&&f.finalizationOfOrder)L.classList.remove("navigate-buttons__btn--disabled"),t.classList.remove("summary-preview--disable"),b.classList.add("navigate-buttons__btn--disabled");else if(7===e){const e=document.querySelector(".summary-preview");h.hideNavigateButtonAtFinalOrderSummary(e,b)}else 4===e?(t.classList.add("summary-preview--disable"),b.classList.add("navigate-buttons__btn--disabled"),h.showCheckoutButton(),h.goToCheckoutButtonSwitch()):e>=5?(L.classList.add("navigate-buttons__btn--disabled"),b.classList.add("navigate-buttons__btn--disabled")):(h.showNextButton(),t.classList.remove("summary-preview--disable"),r.classList.add("navigate-section__notification--disabled"));_.forEach((e=>e.classList.remove("form-page--active"))),_[e-1].classList.add("form-page--active")}},q=()=>{const{name:e,surname:t,street:r,building:i,flat:a,postalCode:n,city:o,phone:s,email:c}=v.data;for(const e in v.data){const t=v.data[e];if(""===t&&"flat"!==e&&""===t)v.turnRed(document.querySelector(`#client-${e}`))}for(const e in v.data){if(""===v.data[e]&&"flat"!==e)return void(v.isFormValid=!1);v.isFormValid=!0}const{regexOneLetter:d,regexOneNumber:l,regexOnlyNumbersAndMinus:m,regexOneDot:p,regexOneAt:y}=u;d.test(e)&&d.test(t)&&d.test(r)&&d.test(o)&&l.test(i)&&(l.test(a)||""===a)&&l.test(n)&&n.length>4&&m.test(s)&&s.length>8&&y.test(c)&&p.test(c)?v.isFormValid=!0:v.isFormValid=!1},P=({product:e,clientForm:t,delivery:r,finalOrderSummary:i})=>({client:{name:t.data.name,surname:t.data.surname,address:{street:t.data.street,building:t.data.building,flat:t.data.flat,postalCode:t.data.postalCode},contact:{phone:t.data.phone,email:t.data.email}},product:{type:e.type,printLocation:e.printLocation,effect:e.effect,graphics:e.graphics,blurPower:e.blurPower},delivery:{method:r.method,deliveryAddress:r.address},price:i.price}),A=e=>{document.querySelector(".header-container").classList.add("header-container--hidden");const t=document.querySelector(".thank-you-header"),r=document.querySelector(".order-info__print-location"),i=document.querySelector(".order-info__effect"),a=document.querySelector(".order-info__graphics"),n=document.querySelector(".order-info__delivery-method"),o=document.querySelector(".order-info__price"),s=document.querySelector("#effect-preview").cloneNode(!0);if(t.innerHTML=`Dziękujemy ${e.client.name}!`,r.innerHTML=`${e.product.printLocation}`,i.innerHTML=`${e.product.effect} ${e.product.blurPower}`,a.appendChild(s),n.innerHTML=`${e.delivery.method}`,o.innerHTML=`${e.price},00 PLN`,"Odbiór osobisty"!==e.delivery.method){const t=document.querySelector(".order-info__delivery-addres1"),r=document.querySelector(".order-info__delivery-addres2"),i=""===e.delivery.deliveryAddress.flat?"":"/";t.innerHTML=`${e.delivery.deliveryAddress.street} ${e.delivery.deliveryAddress.building}${i}${e.delivery.deliveryAddress.flat}`,r.innerHTML=`${e.delivery.deliveryAddress.postalCode} ${e.delivery.deliveryAddress.city}`}};e();const w=document.querySelector("#next-btn"),$=document.querySelector("#back-btn");$.addEventListener("click",S.changePage),w.addEventListener("click",S.changePage);document.querySelectorAll(".choose-print-location .checkboxes-list__checkbox").forEach((t=>{t.addEventListener("change",(t=>{const r=t.target.getAttribute("data-location");d.setPrintLocation(r),a.setLocationPreviewImg(),e()}))}));const k=document.querySelector("#choose-graphics-left"),C=document.querySelector("#choose-graphics-right");k.addEventListener("click",d.setGraphics),C.addEventListener("click",d.setGraphics);document.querySelectorAll(".choose-effect .checkboxes-list__checkbox").forEach((e=>{e.addEventListener("change",(e=>{const t=e.target.getAttribute("data-effect");d.setEffect(t),a.setEffectPreviewImg(),h.setBlurPowerSetting(t)}))}));const T=document.querySelectorAll(".select-blur-power__blur-power-button"),E=document.querySelector(".select-blur-power__blur-power-number");T.forEach((e=>{e.addEventListener("click",(e=>{let t=Number(d.blurPower);"-"===e.target.innerHTML&&t>1?(t-=1,E.innerHTML=t):"+"===e.target.innerHTML&&t<10&&(t+=1,E.innerHTML=t),d.setBlurPower(t)}))}));document.querySelectorAll(".summary-setting-and-approval__edit-btn").forEach((e=>{e.addEventListener("click",(e=>{w.disabled=!1,S.activePage=Number(e.target.name),1!==S.activePage&&$.classList.remove("navigate-buttons__btn--disabled"),S.changePageDisplay(S.activePage),f.finalizationOfOrder&&h.showGoToFinalCheckoutButton(),"3"===e.target.name&&a.setEffectPreviewImg()}))}));document.querySelectorAll(".summary-setting-and-approval__checkbox").forEach((e=>{e.addEventListener("change",(e=>{l.validateProductSummaryCheckboxes(e),h.goToCheckoutButtonSwitch()}))}));document.querySelectorAll(".client-data-list__input").forEach((e=>{e.addEventListener("input",(e=>{v.handleFormInputs(e)}))}));const M={target:document.querySelector("#next-form-btn")};document.querySelector(".client-data-form").addEventListener("submit",(e=>{e.preventDefault(),q(),v.isFormValid?S.changePage(M):(M.target.classList.add("client-data-form__btn--alert"),setTimeout((()=>{M.target.classList.remove("client-data-form__btn--alert")}),500))}));document.querySelectorAll(".delivery-wrapper .checkboxes-list__delivery-checkbox").forEach((e=>{e.addEventListener("change",(e=>{const t=e.target.getAttribute("data-delivery");p.method=t,"Wysyłka"===t?p.switchAddressFormIfDelivery("delivery"):p.switchAddressFormIfDelivery("pickup")}))}));document.querySelectorAll(".delivery-form__input").forEach((e=>{e.addEventListener("input",(e=>{y(e,"delivery address")}))}));const O={target:document.querySelector(".delivery-page__btn")};O.target.addEventListener("click",(()=>{p.validateAddressForm(),p.isDeliveryAddressValid||"Odbiór osobisty"===p.method?(S.changePage(O),f.showFinalOrderSummary()):(O.target.classList.add("delivery-page__btn--alert"),setTimeout((()=>{O.target.classList.remove("delivery-page__btn--alert")}),500))}));document.querySelector(".same-address-btn").addEventListener("click",p.setTheSameAddress);document.querySelectorAll(".final-approval").forEach((e=>{e.addEventListener("change",(e=>{f.validateFinalSummaryApprovals(e)}))}));const x={target:document.querySelector(".submit-order-btn")};x.target.addEventListener("click",(()=>{const e=P({product:d,clientForm:v,delivery:p,finalOrderSummary:f});console.log(e),S.changePage(x),A(e)}));document.querySelector(".keep-buying-btn").addEventListener("click",(()=>{location.reload()}));
//# sourceMappingURL=index.f05f0eeb.js.map
